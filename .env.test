# ========================================================================
# TEST ENVIRONMENT (.env.test)
# ========================================================================
# Konfiguration für automatisierte Tests (Jest, Mocha, etc.)
# Verwendet beim Ausführen von: npm test

# Basic Test Configuration
NODE_ENV=test
PORT=4001                           # Anderer Port um Konflikte zu vermeiden

# Test API Keys (Mock oder Test-Keys)
USER_API_KEY=test-user-123
ADMIN_API_KEY=test-admin-123

# Claude AI Test Configuration
CLAUDE_API_KEY=test-claude-key-mock                    # Mock key für Tests
CLAUDE_MODEL=claude-3-7-sonnet-20250219

# Feature flags (minimal für Tests)
FEATURE_CLAUDE=false                # Deaktiviert für Mock-Tests
FEATURE_RAG=false
FEATURE_MPC=false
FEATURE_OAUTH=false

# Test Configuration
ENABLE_AUTONOMOUS_MODE=false        # Deaktiviert für vorhersagbare Tests
COMPLIANCE_LEVEL=TEST
PREDICTIVE_PERIOD=1

# Logging (verbose für Test-Debugging)
LOG_LEVEL=debug
NODE_ENV=test

# Agent System Configuration (vereinfacht für Tests)
USE_LANGCHAIN=false                 # Vereinfacht für schnellere Tests
USE_ACTIONS=false                   # Keine Actions in Tests
AGENT_MODE=simple                   # Einfachster Modus für Tests

# Test Options
HOT_RELOAD=false                    # Nicht nötig für Tests
VERBOSE_LOGGING=true                # Mehr Details für Test-Debugging

# ========================================================================
# TEST: ALLE MOCK DATA SOURCES
# ========================================================================

# Data Source Types (alle auf Mock für vorhersagbare Tests)
ORDERS_SOURCE_TYPE=mock
ISSUES_SOURCE_TYPE=mock
BATCHES_SOURCE_TYPE=mock
COMPLIANCE_SOURCE_TYPE=mock

# Mock SAP Configuration (nicht verwendet, aber für Config-Validation)
SAP_API_BASE_URL=http://localhost:8001/mock-sap
SAP_USERNAME=test_user
SAP_PASSWORD=test_password
SAP_CLIENT=999
SAP_DEFAULT_PLANT=9999

# Test Plant Configuration (Mock-Werte)
SAP_PLANT_ORDERS=9999
SAP_PLANT_ISSUES=9999
SAP_PLANT_BATCHES=9999
SAP_PLANT_COMPLIANCE=9999

# Test Order Types & Controllers (Mock-Werte)
SAP_ORDER_TYPE=TEST01
SAP_BATCH_ORDER_TYPE=TEST02
SAP_MRP_CONTROLLER=999
SAP_BATCH_MRP_CONTROLLER=998

# Test Work Centers (Mock-Werte)
SAP_WORK_CENTER=TEST001
SAP_NOTIFICATION_TYPE=T1

# Test Performance Settings (schnelle Timeouts für Tests)
SAP_TIMEOUT=5000                    # Kurzer Timeout für Tests
SAP_MAX_ORDERS=10                   # Kleine Limits für Tests
SAP_MAX_ISSUES=5
SAP_MAX_BATCHES=10
SAP_MAX_COMPLIANCE=5

# ========================================================================
# TEST-SPECIFIC SETTINGS
# ========================================================================

# Test Database/Storage (falls verwendet)
TEST_DATA_PATH=test-data            # Separate Test-Daten
MOCK_DATA_PATH=test-mock-data       # Test-spezifische Mock-Daten

# Test Date Ranges (feste Werte für reproduzierbare Tests)
ORDERS_FROM_DATE=2025-01-01T00:00:00
ORDERS_TO_DATE=2025-01-31T23:59:59
ISSUES_FROM_DATE=2025-01-01T00:00:00
BATCHES_FROM_DATE=2025-01-01T00:00:00
COMPLIANCE_FROM_DATE=2025-01-01T00:00:00

# Cache Settings (deaktiviert für Tests)
CACHE_ENABLED=false
CACHE_TTL=0

# External Services (alle deaktiviert/gemockt)
EXTERNAL_API_ENABLED=false
EMAIL_NOTIFICATIONS=false
SMS_NOTIFICATIONS=false

# Test-specific Security (lockerer für Tests)
SAP_SSL_VERIFY=false
SAP_CSRF_TOKEN_REQUIRED=false
RATE_LIMITING=false

# Test Audit/Logging
AUDIT_LOG_PATH=test-audit.json      # Separate Test-Audit-Datei
LOG_TO_FILE=false                   # Nur Console für Tests
LOG_SQL=true                        # SQL-Logging für Tests

# Test Concurrency
MAX_CONCURRENT_REQUESTS=1           # Sequential für reproduzierbare Tests
DISABLE_RATE_LIMITING=true

# Test Memory/Performance
MEMORY_LIMIT=512                    # MB, begrenzt für Tests
REQUEST_TIMEOUT=2000                # Kurze Timeouts

# Mock Services Configuration
MOCK_CLAUDE_API=true                # Claude API mocken
MOCK_SAP_API=true                   # SAP API mocken
MOCK_EMAIL_SERVICE=true             # Email Service mocken

# Test Data Reset
RESET_TEST_DATA=true                # Test-Daten bei jedem Start zurücksetzen
CLEAN_LOGS_ON_START=true            # Logs bei Test-Start leeren

# ========================================================================
# JEST SPECIFIC CONFIGURATION (falls Sie Jest verwenden)
# ========================================================================

# Jest Settings (optional)
JEST_TIMEOUT=10000                  # Jest Test Timeout
JEST_VERBOSE=true
JEST_COVERAGE=true

# ========================================================================
# CI/CD SPECIFIC SETTINGS
# ========================================================================

# CI Environment Detection
CI=false                            # Wird von CI/CD automatisch gesetzt
GITHUB_ACTIONS=false               # GitHub Actions Detection

# Performance für CI
DISABLE_COLORS=true                # Keine Farben in CI Logs
MINIMAL_OUTPUT=true                # Weniger Output in CI